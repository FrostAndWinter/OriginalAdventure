<root>
    <TransformNode id="groundPlaneTransform" rotation="-0.70710677, 0.0, 0.0, 0.70710677" scale="1200, 1800, 0.2">
        <MeshNode id="groundPlaneMesh" fileName="Plane.obj" materialDirectory="MedievalModels" materialFileName="MedievalMaterials.mtl" materialName="corner_fullSG" textureRepeat="24, 36, 0.2"/>
    </TransformNode>
    
    <TransformNode id="playerTransform" translation="0, 60, 200" isDynamic="true">
        <TransformNode id="cameraTransform" translation="0, 40, 0">
            <Camera id="playerCamera"/>
        </TransformNode>
        <Player id="player" boundingBox="-30, -60, -10, 30, 60, 10"/>
    </TransformNode>
    <AmbientLight id="ambientLight" colour="0.5, 0.5, 0.5" intensity="2.0"/>
    
    <TransformNode id="leverTransform" translation="-600, 110, 90" rotation="0, 0, -0.7071067812, 0.7071067812" scale="0.5, 0.5, 0.5">
        <Lever id="lever"/>
    </TransformNode>
    
    <TransformNode id="chestTransform" translation="-100, 0, -200" scale="30, 30, 30">
        <Chest id="chest"/>

        <TransformNode id="chestContentsTransform" translation="-0.4, 0.88, 0.5" rotation="-0.66753083, 0.074032836, 0.066976495, 0.73785895" scale="0.03333, 0.03333, 0.03333">
            <Container id="chestContainer" showTopItem="true" selectionObject="chest"/>

            <TransformNode id="noteTransform" scale="10.0, 10.0, 10.0">
                <Note id="note" inContainer="container"/>
            </TransformNode>
        </TransformNode>

    </TransformNode>

    <TransformNode id="wallsTransform" scale="1, 1.4, 1">
        <TransformNode id="leftWallTransform" translation="-600, 0, 0" rotation="0, 0.7071067812, 0, 0.7071067812" scale="20, 1, 1">
            <MeshNode id="leftWall" directory="MedievalModels" fileName="Wall.obj" textureRepeat="20, 1, 1" isCollidable="true"/>
        </TransformNode>
        <TransformNode id="rightWallTransform" translation="600, 0, 0" rotation="0, -0.7071067812, 0, 0.7071067812" scale="20, 1, 1">
            <MeshNode id="rightWall" directory="MedievalModels" fileName="Wall.obj" textureRepeat="20, 1, 1" isCollidable="true"/>
        </TransformNode>
        <TransformNode id="backWallTransform" translation="0, 0, 900" rotation="0, 1, 0, 0" scale="13.33333, 1, 1">
            <MeshNode id="backWall" directory="MedievalModels" fileName="Wall.obj" textureRepeat="13.33333, 1, 1" isCollidable="true"/>
        </TransformNode>
        <TransformNode id="frontWallTransform" translation="0, 0, -900" rotation="0, 0, 0, 1" scale="13.33333, 1, 1">
            <MeshNode id="frontWall" directory="MedievalModels" fileName="Wall.obj" textureRepeat="13.33333, 1, 1" isCollidable="true"/>
        </TransformNode>
    </TransformNode>
    
    <TransformNode id="cryptTransform" rotation="0, 0.7071067812, 0, 0.7071067812">
        <MeshNode id="crypt" directory="MedievalModels" fileName="Crypt.obj" isCollidable="true"/>
        
        <TransformNode id="brazier1T" translation="105, 0, 95">
            <MeshNode id="brazier1M" directory="MedievalModels" fileName="BigTorch.obj" isCollidable="true"/>
            <TransformNode id="flame1T" translation="0, 40, -8" rotation="0, 0.4338837391, 0, 0.9009688679" scale="70, 70, 70">
                <FlickeringLight id="flame1M" directory="Flame" fileName="flame.obj" colour="0.96, 0.22, 0.06" intensity="5.0" intensityVariation="2.0"/>
            </TransformNode>
        </TransformNode>
        
        <TransformNode id="brazier2T" translation="-105, 0, 95">
            <MeshNode id="brazier2M" directory="MedievalModels" fileName="BigTorch.obj" isCollidable="true"/>
            <TransformNode id="flame2T" translation="0, 40, -8" scale="68, 74, 72">
                <FlickeringLight id="flame2M" directory="Flame" fileName="flame.obj" colour="0.96, 0.23, 0.02" intensity="5.0" intensityVariation="2.0"/>
            </TransformNode>
        </TransformNode>
        
        <TransformNode id="brazier3T" translation="105, 0, -95">
            <MeshNode id="brazier3M" directory="MedievalModels" fileName="BigTorch.obj" isCollidable="true"/>
            <TransformNode id="flame3T" translation="0, 40, -8" rotation="0, -0.4338837391, 0, 0.9009688679" scale="72, 71, 68">
                <FlickeringLight id="flame3M" directory="Flame" fileName="flame.obj" colour="0.95, 0.27, 0.04" intensity="5.0" intensityVariation="2.0"/>
            </TransformNode>
        </TransformNode>
        
        <TransformNode id="brazier4T" translation="-105, 0, -95">
            <MeshNode id="brazier4M" directory="MedievalModels" fileName="BigTorch.obj" isCollidable="true"/>
            <TransformNode id="flame4T" translation="0, 40, -8" scale="69, 68, 67">
                <FlickeringLight id="flame4M" directory="Flame" fileName="flame.obj" colour="0.96, 0.26, 0.02" intensity="8.0" intensityVariation="3.0"/>
            </TransformNode>
        </TransformNode>
    </TransformNode>

    <TransformNode id="wallTorchesTransform" translation="0, -20, 840" rotation="0, 1, 0, 0">

        <TransformNode id="keyT" translation="0, 165, -46" scale="5, 5, 5">
            <Key id="key" enabled="false"/>
        </TransformNode>

        <TransformNode id="redTorchT" translation="-40.0, -10.0, 0.0">
            <MeshNode id="redTorchM" directory="MedievalModels" fileName="Torch.obj" isCollidable="true"/>
            <TransformNode id="redTorchFlameT" translation="2, 152, -33" scale="16, 24, 16">
                <FlickeringLight id="redTorchFlame" directory="Flame" fileName="flame.obj" colour="1.0, 0.0, 0.0" intensity="9.0" intensityVariation="2.0"/>
            </TransformNode>
        </TransformNode>

        <TransformNode id="greenTorchT" translation="40.0, -10.0, 0.0">
            <MeshNode id="greenTorchM" directory="MedievalModels" fileName="Torch.obj" isCollidable="true"/>
            <TransformNode id="greenTorchFlameT" translation="2, 152, -33" scale="16, 24, 16">
                <FlickeringLight id="greenTorchFlame" directory="Flame" fileName="flame.obj" colour="0.0, 1.0, 0.0" intensity="9.0" intensityVariation="2.0"/>
            </TransformNode>
        </TransformNode>

        <TransformNode id="blueTorchT" translation="0.0, 70.0, 0.0">
            <MeshNode id="blueTorchM" directory="MedievalModels" fileName="Torch.obj" isCollidable="true"/>
            <TransformNode id="blueTorchFlameT" translation="2, 152, -33" scale="16, 24, 16">
                <FlickeringLight id="blueTorchFlame" directory="Flame" fileName="flame.obj" colour="0.0, 0.0, 1.0" intensity="9.0" intensityVariation="2.0"/>
            </TransformNode>

        </TransformNode>

    </TransformNode>

    <Puzzle id="keyPuzzle" conditions="redTorchFlame, isOn, true; greenTorchFlame, isOn, false; blueTorchFlame, isOn, true"/>
    
</root>
